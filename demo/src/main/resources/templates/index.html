<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Demo - Login</title>
    <style>
        body { font-family: Arial, Helvetica, sans-serif; max-width: 800px; margin: 40px auto; }
        .card { border: 1px solid #ddd; padding: 20px; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.06);}
        .btn { background:#4285F4; color:white; padding:10px 16px; border-radius:4px; text-decoration:none; display:inline-block }
        .logout { background:#777 }
    </style>
</head>
<body>
<div class="card">
    <h1>Biblioconnect — Login de teste</h1>

    <div th:if="${userName}">
        <p>Olá, <strong th:text="${userName}">Usuário</strong> (<span th:text="${userEmail}">email</span>)</p>
        <p><a th:href="@{/secure}">Ir para página segura</a></p>
        <form th:action="@{/logout}" method="post">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <button class="btn logout" type="submit">Sair</button>
        </form>
    </div>

    <div th:unless="${userName}">
        <p>Para acessar, faça login com sua conta Google.</p>
        <a class="btn" th:href="@{/oauth2/authorization/google}">Entrar com Google</a>
    </div>

    <hr/>
    <p style="font-size:0.9em;color:#666">Observação: configure as variáveis de ambiente <code>GOOGLE_CLIENT_ID</code> e <code>GOOGLE_CLIENT_SECRET</code> antes de rodar a aplicação. Veja README para instruções.</p>
</div>
</body>
</html>
